name: Sync Fork

on:
  schedule:
    - cron: '0 0 * * *'  # 每天UTC时间0点
  workflow_dispatch:      # 手动触发

jobs:
  sync:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Code
        uses: actions/checkout@v4
        with:
          ref: main
          fetch-depth: 0  # 获取所有历史记录

      - name: Sync Fork
        uses: tgymnich/fork-sync@v2
        with:
          # 使用正确的参数名称
          token: ${{ secrets.GITHUB_TOKEN }}
          # 上游仓库信息
          owner: deepseek-ai
          repo: DeepSeek-V3
          # 分支配置
          base: main  # 你的复刻仓库分支
          head: main  # 上游仓库分支
